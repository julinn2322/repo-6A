
<html lang="es">
<head><meta charset="utf-8"><title>Agregar Usuario</title></head>
<body>
  <h1>Agregar Usuario</h1>
  <nav><a href="index.html">Inicio</a> | <a href="ListarUsuario.html">Listar Usuarios</a></nav>

  <form id="formAdd">
    <label>Nombre: <input id="name" required></label><br><br>
    <label>Email: <input id="email" type="email" required></label><br><br>
    <button type="submit">Agregar</button>
  </form>

  <p id="msg"></p>

  <script>
    function getUsers(){ return JSON.parse(localStorage.getItem('usersList') || '[]'); }
    function saveUsers(arr){ localStorage.setItem('usersList', JSON.stringify(arr)); }

    document.getElementById('formAdd').addEventListener('submit', function(e){
      e.preventDefault();
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      if(!name || !email){ return; }
      const users = getUsers();
      users.push({id: Date.now(), name, email});
      saveUsers(users);
      document.getElementById('msg').textContent = 'Usuario agregado.';
      this.reset();
    });
  </script>
</body>
</html>
